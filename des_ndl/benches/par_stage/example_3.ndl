include NetworkStack
include std/Link

module NetworkNode {
    submodules:
        stack:: NetworkStack

    gates:
        toStack[5
        fromStack[5]

        channelIncoming[5]
        channelOutgoing5]

        toAppl[5]
        fromAppl[5]

    connections:

        toStack --> FastLink --> stack/netIn
        fromStack <-- stack/netOut
        
        fromAppl --> stack/fromAppl
        toAppl <--- stack/toAppl

}