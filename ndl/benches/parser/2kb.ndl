link FastLink {
    latency: 0.1
    jitter: 0.0
    bitrate: 10000
}

link SlowLink {
    latency: 0.1
    jitter: 0.0
    bitrate: 10000
}

module NetworkNode {

    parameters:
        name: String,

    submodules:
        stack: NetworkStack,
    
    // This is a comment ðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒ

    gates:
        toStack[5],
        fromStack[5],

        channelIncoming[5],
        channelOutgoing[5],

        toAppl[5],
        fromAppl[5],

    connections:
        toStack --> FastLink --> stack/netIn,
        fromStack <-- stack/netOut,
        
        toAppl --> stack/fromAppl,
        fromAppl <-- stack/toAppl,

}

module NetworkStack {

    parameters:
        name: String,

    // This is a comment ðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒ

    gates:
        toStack[5],
        fromStack[5],

        netIn[5],
        netOut[5],

        toAppl[5],
        fromAppl[5],

    connections:
        toStack --> fromStack
        toAppl --> fromAppl
}

link FastLink2 {
    latency: 0.1
    jitter: 0.0
    bitrate: 10000
}

link SlowLink2 {
    latency: 0.1
    jitter: 0.0
    bitrate: 10000
}

module NetworkNode2 {

    parameters:
        name: String,

    submodules:
        stack: NetworkStack2,
    
    // This is a comment ðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒ

    gates:
        toStack[5],
        fromStack[5],

        channelIncoming[5],
        channelOutgoing[5],

        toAppl[5],
        fromAppl[5],

    connections:
        toStack --> FastLink --> stack/netIn,
        fromStack <-- stack/netOut,
        
        toAppl --> stack/fromAppl,
        fromAppl <-- stack/toAppl,

}

module NetworkStack2 {

    parameters:
        name: String,

    // This is a comment ðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒ

    gates:
        toStack[5],
        fromStack[5],

        netIn[5],
        netOut[5],

        toAppl[5],
        fromAppl[5],

    connections:
        toStack --> fromStack
        toAppl --> fromAppl
}