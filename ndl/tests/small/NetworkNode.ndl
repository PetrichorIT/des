include NetworkStack
include std/Link

module NetworkNode {

    parameters:
        name: String,

    submodules:
        stack: NetworkStack,
    
    // This is a comment ðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒðŸ˜ƒ

    gates:
        toStack[2] @output,
        fromStack[2] @input,

        channelIncoming[2] @input,
        channelOutgoing[2] @output,

        toAppl[2] @output,
        fromAppl[2] @input,

    connections:
        toStack --> FastLink --> stack/netIn,
        fromStack <-- stack/netOut,
        
        toAppl --> stack/fromAppl,
        fromAppl <-- stack/toAppl,

}