include Link
include NetworkStack

module NetworkNode {
    submodules:
        NetworkStack stack

    gates:
        toStack[5]
        fromStack[5]

        channelIncoming[5]
        channelOutgoing[5]

        toAppl[5]
        fromAppl[5]

    connections:

        toStack --> FastLink --> stack/netIn
        netOut <-- stack/fromStack
        
        fromAppl --> stack/fromAppl
        toAppl <-- stack/toAppl

}