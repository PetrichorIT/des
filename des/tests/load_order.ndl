
module MidLevelModule {
    submodules {
        child: LowLevelModule
    }

    gates {
        in @input,
        out @output,
    }

    connections {
        out --> child/in,
        in <-- child/out,
    }
}

module TopLevelModule {
    submodules {
        a: MidLevelModule,
        b: MidLevelModule,
    }
}

module LowLevelModule {
    gates {
        in @input,
        out @output,
    }
}

entry TopLevelModule;